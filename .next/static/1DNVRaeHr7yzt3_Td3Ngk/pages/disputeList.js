(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Amrk:function(e,t,n){"use strict";n.r(t);var a=n("ln6h"),r=n.n(a),l=n("dfwq"),s=n("d04V"),u=n.n(s),c=n("6BQ9"),o=n.n(c),i=n("eVuF"),d=n.n(i),p=n("O40h"),m=n("0iUn"),f=n("sLSF"),h=n("MI3g"),b=n("a7VT"),E=n("Tit0"),v=n("q1tI"),O=n.n(v),j=n("xsZ3"),x=n.n(j),k=n("ikXu"),y=n("vRqb"),w=n("Mt1y"),C=n("5Yp1"),R=n("OIDg"),g=n("dbDy"),D=n("QetY"),A=n("oZBQ"),I=n("8cHP"),T=function(e){function t(){return Object(m.default)(this,t),Object(h.default)(this,Object(b.default)(t).apply(this,arguments))}return Object(E.default)(t,e),Object(f.default)(t,[{key:"render",value:function(){var e=k.a.Row,t=k.a.Cell,n=this.props,a=n.address,r=n.dispute,l=n.addressIndex,s=A.a.utils.fromWei(r.incentives,"ether")+" ETH",u=r.complete?"Voting Closed":"Voting Open",c=r.complete?"Details":"Vote";return O.a.createElement(e,{negative:r.complete,positive:!r.complete},O.a.createElement(t,null,a),O.a.createElement(t,null,r.disputer),O.a.createElement(t,null,s),O.a.createElement(t,null,r.approvalCount),O.a.createElement(t,null,r.rejectionCount),O.a.createElement(t,null,O.a.createElement(D.a,{primary:!0,onClick:function(){return I.Router.pushRoute("/disputes/".concat(a,"/").concat(l))}},c)),O.a.createElement(t,null,u))}}]),t}(v.Component),M=function(e){function t(){return Object(m.default)(this,t),Object(h.default)(this,Object(b.default)(t).apply(this,arguments))}return Object(E.default)(t,e),Object(f.default)(t,[{key:"render",value:function(){var e=k.a.Row,t=k.a.Cell,n=(k.a.Header,k.a.HeaderCell,this.props),a=n.address,r=n.dispute,l=n.addressIndex,s=A.a.utils.fromWei(r.incentives,"ether")+" ETH",u=r.complete?"Voting Closed":"Voting Open",c=r.complete?"Details":"Vote";return O.a.createElement(O.a.Fragment,null,O.a.createElement(e,null,O.a.createElement(t,{colSpan:"2"},O.a.createElement("div",{style:{whiteSpace:"nowrap",display:"block",textOverflow:"ellipsis",overflow:"hidden"}},O.a.createElement("span",{style:{fontWeight:"bold"}},"Product ID: ",a)))),O.a.createElement(e,{negative:r.complete,positive:!r.complete},O.a.createElement(t,null,"Disputer"),O.a.createElement(t,null,r.disputer)),O.a.createElement(e,{negative:r.complete,positive:!r.complete},O.a.createElement(t,null,"Total Incentives Left"),O.a.createElement(t,null,s)),O.a.createElement(e,{negative:r.complete,positive:!r.complete},O.a.createElement(t,null,"Approval Count"),O.a.createElement(t,null,r.approvalCount)),O.a.createElement(e,{negative:r.complete,positive:!r.complete},O.a.createElement(t,null,"Rejection Count"),O.a.createElement(t,null,r.rejectionCount)),O.a.createElement(e,{negative:r.complete,positive:!r.complete},O.a.createElement(t,null,"Vote"),O.a.createElement(t,null,O.a.createElement(D.a,{primary:!0,onClick:function(){return I.Router.pushRoute("/disputes/".concat(a,"/").concat(l))}},c))),O.a.createElement(e,{negative:r.complete,positive:!r.complete},O.a.createElement(t,null,"Remarks"),O.a.createElement(t,null,u)))}}]),t}(v.Component),V=n("CFn4"),F=function(e){function t(){return Object(m.default)(this,t),Object(h.default)(this,Object(b.default)(t).apply(this,arguments))}return Object(E.default)(t,e),Object(f.default)(t,[{key:"renderRowOpenD",value:function(){var e=this;return this.props.openDispute.map(function(t,n){return O.a.createElement(T,{key:n,index:n,dispute:t,addressIndex:e.props.openAddressIdx[n],address:e.props.openAddress[n]})})}},{key:"renderRowClosedD",value:function(){var e=this;return this.props.closeDispute.map(function(t,n){return O.a.createElement(T,{key:n,index:n,dispute:t,addressIndex:e.props.closeAddressIdx[n],address:e.props.closeAddress[n]})})}},{key:"renderTableDesktop",value:function(){var e=k.a.Header,t=k.a.Row,n=k.a.HeaderCell,a=k.a.Body;return O.a.createElement(O.a.Fragment,null,this.props.disputeCounts?O.a.createElement(y.a,{fireOnMount:!0,as:k.a,getWidth:Object(V.a)(this.props.isMobileFromSSR),minWidth:y.a.onlyTablet.minWidth,fixed:!0,unstackable:!0},O.a.createElement(e,null,O.a.createElement(t,null,O.a.createElement(n,null,"Product ID"),O.a.createElement(n,null,"Disputer"),O.a.createElement(n,null,"Total Incentives Left"),O.a.createElement(n,null,"Approval Count"),O.a.createElement(n,null,"Rejection Count"),O.a.createElement(n,null,"Vote"),O.a.createElement(n,null,"Remarks"))),O.a.createElement(a,null,this.renderRowOpenD(),this.renderRowClosedD())):null)}},{key:"renderRowOpenM",value:function(){var e=this;return this.props.openDispute.map(function(t,n){return O.a.createElement(M,{key:n,index:n,dispute:t,addressIndex:e.props.openAddressIdx[n],address:e.props.openAddress[n]})})}},{key:"renderRowClosedM",value:function(){var e=this;return this.props.closeDispute.map(function(t,n){return O.a.createElement(M,{key:n,index:n,dispute:t,addressIndex:e.props.closeAddressIdx[n],address:e.props.closeAddress[n]})})}},{key:"renderTableMobile",value:function(){k.a.Header,k.a.Row,k.a.HeaderCell;var e=k.a.Body;return O.a.createElement(O.a.Fragment,null,this.props.disputeCounts?O.a.createElement(y.a,{fireOnMount:!0,as:k.a,getWidth:Object(V.a)(this.props.isMobileFromSSR),maxWidth:y.a.onlyMobile.maxWidth,fixed:!0,unstackable:!0,structured:!0},O.a.createElement(e,null,this.renderRowOpenM(),this.renderRowClosedM())):null)}},{key:"render",value:function(){return O.a.createElement(C.a,null,O.a.createElement("h3",null,"Dispute List"),this.renderTableDesktop(),this.renderTableMobile(),O.a.createElement(w.a,{hidden:!0}),O.a.createElement("div",null,"Found ",this.props.disputeCounts," dispute(s)."),O.a.createElement(w.a,{hidden:!0}))}}],[{key:"getInitialProps",value:function(){var e=Object(p.default)(r.a.mark(function e(t){var n,a,s,c,i,p,m,f,h,b,E,v,O,j;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,e.next=3,R.a.methods.getDeployedRentals().call();case 3:a=e.sent,s=[],c=[],i=[],p=[],m=[],f=[],h=0,b=r.a.mark(function e(t){var n,b,E,v,O,j,x,k,y,w,C,R;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(a[t]).methods.disputeCounts().call();case 2:return n=e.sent,e.next=5,Object(g.a)(a[t]).methods.openDisputeRenter().call();case 5:return b=e.sent,e.next=8,Object(g.a)(a[t]).methods.openDisputeOwner().call();case 8:if(E=e.sent,v=Object(g.a)(a[t]),!b&&!E){e.next=29;break}return O=n-1,e.next=14,v.methods.disputes(O).call();case 14:if(j=e.sent,s.push(j),c.push(a[t]),i.push(O),!(n>1)){e.next=27;break}return e.next=21,d.a.all(Array(o()(n-1)).fill().map(function(e,t){return v.methods.disputes(t).call()}));case 21:x=e.sent,k=Array(o()(n-1)).fill(a[t]),y=u()(new Array(n-1),function(e,t){return t}),p=[].concat(Object(l.default)(p),Object(l.default)(x)),f=[].concat(Object(l.default)(f),Object(l.default)(y)),m=[].concat(Object(l.default)(m),Object(l.default)(k));case 27:e.next=38;break;case 29:if(!(n>0)){e.next=38;break}return e.next=32,d.a.all(Array(o()(n)).fill().map(function(e,t){return v.methods.disputes(t).call()}));case 32:w=e.sent,C=Array(o()(n)).fill(a[t]),R=u()(new Array(n-1),function(e,t){return t}),p=[].concat(Object(l.default)(p),Object(l.default)(w)),f=[].concat(Object(l.default)(f),Object(l.default)(R)),m=[].concat(Object(l.default)(m),Object(l.default)(C));case 38:h+=o()(n);case 39:case"end":return e.stop()}},e)}),E=0;case 13:if(!(E<a.length)){e.next=18;break}return e.delegateYield(b(E),"t0",15);case 15:E++,e.next=13;break;case 18:return v=!1,n&&(O=n.headers["user-agent"],j=new x.a(O),v=!!j.mobile()),e.abrupt("return",{openDispute:s,closeDispute:p,openAddress:c,closeAddress:m,openAddressIdx:i,closeAddressIdx:f,disputeCounts:h,isMobileFromSSR:v});case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),t}(v.Component);t.default=F},f1mT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/disputeList",function(){var e=n("Amrk");return{page:e.default||e}}])}},[["f1mT",1,0]]]);